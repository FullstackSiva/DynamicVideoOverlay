<!DOCTYPE html>
<html>
<head>
  <title>Vimeo Dynamic Player</title>
  <script src="https://player.vimeo.com/api/player.js"></script>
</head>
<body>
  <button onclick="playVideo('76979871')">Play Video 1</button>
  <button onclick="playVideo('22439234')">Play Video 2</button>

  <div id="videoContainer" style="margin-top: 20px;"></div>

  <script>
    let currentPlayer = null;

    function playVideo(videoId) {
      const container = document.getElementById('videoContainer');

      // Inject player + close button
      container.innerHTML = `
        <div id="videoWrapper">
          <button onclick="closeVideo()" style="margin-bottom: 10px;">Close</button>
          <iframe id="vimeoPlayer" src="https://player.vimeo.com/video/${videoId}?autoplay=1" width="640" height="360" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>
        </div>
      `;

      const iframe = document.querySelector('#vimeoPlayer');
      currentPlayer = new Vimeo.Player(iframe);

      currentPlayer.on('play', function () {
        console.log(`Playing video ${videoId}`);
      });
    }

    function closeVideo() {
      if (currentPlayer) {
        currentPlayer.unload().then(() => {
          console.log("Video closed.");
        }).catch((error) => {
          console.error("Error unloading player:", error);
        });
      }

      document.getElementById('videoContainer').innerHTML = '';
    }
  </script>
</body>
</html>
